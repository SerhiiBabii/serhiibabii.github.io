{"version":3,"sources":["components/Header/Login/ModalLoginHOC.js","components/Header/Login/InputField.js","api/api.js","components/HOC/AppContextHOC.js","components/Header/Login/ModalLogin.js","components/Header/Login/Login.js","components/Header/Login/UserMenu.js","components/Header/Header.js","components/Filters/FilterItem.js","components/Filters/FilterSelect.js","components/Filters/Genres.js","components/Filters/GenresHOC.js","components/Filters/PageButtons.js","components/Filters/Filters.js","components/Movies/MovieItem.js","components/Movies/MovieItemHOC.js","components/Movies/MoviesList.js","components/Movies/MoviesHOC.js","components/Pages/MoviesPage/MoviesPage.js","components/Pages/MoviePage/MovieCredits/Actor.js","components/Pages/MoviePage/Spinner/Spinner.js","components/Pages/MoviePage/MovieCredits/MovieCredits.js","components/Pages/MoviePage/MovieVideos/MovieVideos.js","components/Pages/MoviePage/MovieDetail/DetailTable.js","components/Pages/MoviePage/MovieDetail/MovieDetail.js","components/Pages/MoviePage/NoMatch/NoMatch.js","components/Pages/MoviePage/MovieTabs.js","components/Pages/MoviePage/MoviePage.js","components/App.js","index.js"],"names":["Component","InputField","_ref","title","type","id","placeholder","name","value","error","onChange","onBlur","react_default","a","createElement","className","htmlFor","API_URL","API_KEY_3","fetchApi","url","option","arguments","length","undefined","Promise","resolve","reject","fetch","then","response","status","json","data","catch","CallApi","_options$params","params","queryStringParams","Object","objectSpread","api_key","concat","queryString","stringify","mode","headers","Content-type","options","_options$params2","body","method","Accept","JSON","_options$params3","_options$params4","HOC_AppContextHOC","_React$Component","AppContextHOC","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","inherits","createClass","key","_this","AppContext","Consumer","context","assign","props","React","userName","password","repeatPassword","submitting","errors","handleBlur","onSubmit","Login_InputField","onClick","disabled","base","ModalLoginHOC","_getPrototypeOf2","_len","args","Array","_key","call","state","_isMounted","e","target","setState","prevState","_objectSpread3","defineProperty","validateFields","keys","test","preventDefault","onLogIn","get","post","username","request_token","updateSessionId","session_id","user","updateUser","toggleModal","console","log","status_message","_this$state","Modal","isOpen","showModal","toggle","ModalBody","Login_ModalLogin","dropdownOpen","toggleDropdown","_this$props","onLogOut","Dropdown","DropdownToggle","tag","data-toggle","aria-expanded","width","src","avatar","gravatar","hash","alt","DropdownMenu","right","DropdownItem","Header","href","Login_UserMenu","Header_Login_Login","FilterItem","filterItems","map","item","FilterSelect","handleSelect","Filters_FilterItem","GenresHOC","genres","getGenres","link","prevProps","_this2","filters","genre","addGenre","PageButtons","page","total_pages","changePage","Fragment","Filters","filterYear","_this$props$filters","sort_by","year","resetFilters","Filters_FilterSelect","Filters_PageButtons","Filters_Genres","MoviesItemHOC","favorite","watchlist","movie_id","handleMark","getAttribute","mark","media_type","media_id","getMovieFavorite","getMovieWatchlist","checkMark","targetName","movieId","results","forEach","itemResults","poster","backdrop_path","poster_path","defaultPoster","MovieItemHOC","style","react_router_dom","to","vote_average","MoviesList","movies","movie","Movies_MovieItem","defaulProps","MoviesHOC","changedSortBy","filter","currentTotalPages","_filter$genre","language","primary_release_year","with_genres","cookies","Cookies","user_id","Filters_Filters","Movies_MoviesList","Actor","actor","image","profile_path","Spinner","Credits","actors","loaded","getActors","cast","updateActors","match","activeTab","snippet","MoviePage_Spinner_Spinner","actorsList","MovieCredits_ListActors","ListActors","MovieCredits_Actor","cast_id","Video","video","getVideo","updateVideo","videoList","MovieVideos_ViewVideo","ViewVideo","height","DetailTable","details","Col","Table","scope","release_date","runtime","original_language","production_countries","budget","revenue","production_companies","Detail","getDetails","updateDetails","detailsList","MovieDetail_DetailTable","NoMatch","MovieTabs","tab","Nav","tabs","NavItem","classnames","active","react_router","path","component","_this$state$movie","original_title","overview","substring","MovieTabs_MovieTabs","createContext","initialState","App","updateUserId","set","maxAge","delete","remove","toggleGenre","array","index","findIndex","el","toConsumableArray","slice","arr","includes","Provider","Header_Header","exact","MoviesPage","MoviePage","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.a1248736.chunk.js","sourcesContent":["import React from \"react\";\r\nimport CallApi from \"../../../api/api\";\r\n\r\nexport default Component =>\r\n  class ModalLoginHOC extends React.Component {\r\n    state = {\r\n      userName: \"\",\r\n      password: \"\",\r\n      repeatPassword: \"\",\r\n      submitting: false,\r\n      errors: {}\r\n    };\r\n\r\n    _isMounted = false;\r\n\r\n    onChange = e => {\r\n      const name = e.target.name;\r\n      const value = e.target.value;\r\n      this.setState(prevState => ({\r\n        ...prevState,\r\n        [name]: value,\r\n        errors: {\r\n          ...prevState.errors,\r\n          base: null,\r\n          [name]: null\r\n        }\r\n      }));\r\n    };\r\n\r\n    handleBlur = e => {\r\n      const errors = this.validateFields(e);\r\n      if (Object.keys(errors).length > 0) {\r\n        this.setState(prevState => ({\r\n          ...prevState,\r\n          errors: {\r\n            ...prevState.errors,\r\n            ...errors\r\n          }\r\n        }));\r\n      }\r\n    };\r\n\r\n    validateFields = e => {\r\n      const errors = {};\r\n      const patternUserName = /^[a-zA-Z0-9]{6,}$/;\r\n      const patternPassword = /(?=^.{8,}$)(?=.*\\d)(?=.*[a-zA-Z]).*$/;\r\n      if (\r\n        (e.target.id === \"username\" || e.target.type === \"submit\") &&\r\n        !patternUserName.test(this.state.userName)\r\n      ) {\r\n        errors.userName = \"Invalid username\";\r\n      }\r\n      if (\r\n        (e.target.id === \"password\" || e.target.type === \"submit\") &&\r\n        !patternPassword.test(this.state.password)\r\n      ) {\r\n        errors.password = \"Invalid password\";\r\n      }\r\n      if (\r\n        (e.target.id === \"repeatPassword\" || e.target.type === \"submit\") &&\r\n        this.state.password !== this.state.repeatPassword\r\n      ) {\r\n        errors.repeatPassword = \"Must be equal password\";\r\n      }\r\n      return errors;\r\n    };\r\n\r\n    onSubmit = e => {\r\n      e.preventDefault();\r\n      const errors = this.validateFields(e);\r\n      if (Object.keys(errors).length > 0) {\r\n        this.setState(prevState => ({\r\n          ...prevState,\r\n          errors: {\r\n            ...prevState.errors,\r\n            ...errors\r\n          }\r\n        }));\r\n      } else {\r\n        this.onLogIn();\r\n      }\r\n    };\r\n\r\n    onLogIn = () => {\r\n      this.setState({\r\n        ...this.state,\r\n        submitting: true\r\n      });\r\n\r\n      CallApi.get(\"/authentication/token/new\")\r\n        .then(data => {\r\n          return CallApi.post(\"/authentication/token/validate_with_login\", {\r\n            body: {\r\n              username: this.state.userName,\r\n              password: this.state.password,\r\n              request_token: data.request_token\r\n            }\r\n          });\r\n        })\r\n        .then(data => {\r\n          return CallApi.post(\"/authentication/session/new\", {\r\n            body: {\r\n              request_token: data.request_token\r\n            }\r\n          });\r\n        })\r\n        .then(data => {\r\n          this.props.updateSessionId(data.session_id);\r\n          return CallApi.get(\"/account\", {\r\n            params: {\r\n              session_id: data.session_id\r\n            }\r\n          });\r\n        })\r\n        .then(user => {\r\n          this.props.updateUser(user);\r\n          this.props.toggleModal();\r\n          if (this._isMounted) {\r\n            this.setState({\r\n              ...this.state,\r\n              submitting: false\r\n            });\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.log(\"error\", error);\r\n          this.setState({\r\n            ...this.state,\r\n            submitting: false,\r\n            errors: {\r\n              base: error.status_message\r\n            }\r\n          });\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n      this._isMounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this._isMounted = false;\r\n    }\r\n\r\n    render() {\r\n      const {\r\n        userName,\r\n        password,\r\n        repeatPassword,\r\n        submitting,\r\n        errors\r\n      } = this.state;\r\n      return (\r\n        <Component\r\n          userName={userName}\r\n          password={password}\r\n          repeatPassword={repeatPassword}\r\n          submitting={submitting}\r\n          onChange={this.onChange}\r\n          handleBlur={this.handleBlur}\r\n          onSubmit={this.onSubmit}\r\n          errors={errors}\r\n        />\r\n      );\r\n    }\r\n  };\r\n","import React from \"react\";\r\n\r\nconst InputField = ({\r\n  title,\r\n  type,\r\n  id,\r\n  placeholder,\r\n  name,\r\n  value,\r\n  error,\r\n  onChange,\r\n  onBlur\r\n}) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={id}>{title}</label>\r\n      <input\r\n        type={type}\r\n        className=\"form-control\"\r\n        id={id}\r\n        placeholder={placeholder}\r\n        name={name}\r\n        value={value}\r\n        onChange={onChange}\r\n        onBlur={onBlur}\r\n      />\r\n      {error && <div className=\"invalid-feedback\">{error}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InputField;\r\n","import queryString from \"query-string\";\n\nexport const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"b1a938ee7f324798663cd0727c5783ee\";\n\nexport const API_KEY_4 =\n  \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiMWE5MzhlZTdmMzI0Nzk4NjYzY2QwNzI3YzU3ODNlZSIsInN1YiI6IjVkNjNmMzQ1YmM4YWJjNjA1ZDI1MDY5ZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.0AmtMmTcqQ9lyLuhMfOXywHfhxLQ8NH110DBfcawH4c\";\n\nexport const fetchApi = (url, option = {}) => {\n  return new Promise((resolve, reject) => {\n    fetch(url, option)\n      .then(response => {\n        if (response.status < 400) {\n          return response.json();\n        } else {\n          throw response;\n        }\n      })\n      .then(data => {\n        resolve(data);\n      })\n      .catch(response => {\n        response.json().then(error => {\n          reject(error);\n        });\n      });\n  });\n};\n\nexport default class CallApi {\n  static get(url, options = {}) {\n    const { params = {} } = options;\n    const queryStringParams = {\n      api_key: API_KEY_3,\n      ...params\n    };\n    return fetchApi(\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\n      {\n        mode: \"cors\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        }\n      }\n    );\n  }\n  static post(url, options = {}) {\n    const { params = {}, body } = options;\n    const queryStringParams = {\n      api_key: API_KEY_3,\n      ...params\n    };\n    return fetchApi(\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\n      {\n        method: \"POST\",\n        mode: \"cors\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          Accept: \"application/json\"\n        },\n        body: JSON.stringify(body)\n      }\n    );\n  }\n  static mark(url, options = {}) {\n    const { params = {}, body } = options;\n    const queryStringParams = {\n      api_key: API_KEY_3,\n      ...params\n    };\n    return fetchApi(\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\n      {\n        method: \"POST\",\n        mode: \"cors\",\n        headers: {\n          \"Content-type\": \"application/json;charset=utf-8\"\n        },\n        body: JSON.stringify(body)\n      }\n    );\n  }\n  static delete(url, options = {}) {\n    const { params = {} } = options;\n    const queryStringParams = {\n      api_key: API_KEY_3,\n      ...params\n    };\n    return fetchApi(\n      `${API_URL}${url}?${queryString.stringify(queryStringParams)}`,\n      {\n        method: \"DELETE\",\n        mode: \"cors\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        }\n      }\n    );\n  }\n}\n","import React from \"react\";\r\nimport { AppContext } from \"../App\";\r\n\r\nexport default Component =>\r\n  class AppContextHOC extends React.Component {\r\n    render() {\r\n      return (\r\n        <AppContext.Consumer>\r\n          {context => {\r\n            return <Component {...this.props} {...context} />;\r\n          }}\r\n        </AppContext.Consumer>\r\n      );\r\n    }\r\n  };\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport InputField from \"./InputField\";\r\nimport ModalLoginHOC from \"./ModalLoginHOC\";\r\nimport AppContextHOC from \"../../HOC/AppContextHOC\";\r\n\r\nconst ModalLogin = props => {\r\n  const {\r\n    userName,\r\n    password,\r\n    repeatPassword,\r\n    submitting,\r\n    errors,\r\n    onChange,\r\n    handleBlur,\r\n    onSubmit\r\n  } = props;\r\n  return (\r\n    <div className=\"form-login-container\">\r\n      <form className=\"form-login\">\r\n        <h1 className=\"h3 mb-3 font-weight-normal text-center\">Авторизация</h1>\r\n        <InputField\r\n          title=\"User\"\r\n          type=\"text\"\r\n          id=\"username\"\r\n          placeholder=\"User\"\r\n          name=\"userName\"\r\n          value={userName}\r\n          error={errors.userName}\r\n          onChange={onChange}\r\n          onBlur={handleBlur}\r\n        />\r\n        <InputField\r\n          title=\"Password\"\r\n          type=\"password\"\r\n          id=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          value={password}\r\n          error={errors.password}\r\n          onChange={onChange}\r\n          onBlur={handleBlur}\r\n        />\r\n        <InputField\r\n          title=\"Repeat password\"\r\n          type=\"password\"\r\n          id=\"repeatPassword\"\r\n          placeholder=\"Repeat password\"\r\n          name=\"repeatPassword\"\r\n          value={repeatPassword}\r\n          error={errors.repeatPassword}\r\n          onChange={onChange}\r\n          onBlur={handleBlur}\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-lg btn-primary btn-block\"\r\n          onClick={onSubmit}\r\n          disabled={submitting}\r\n        >\r\n          Вход\r\n        </button>\r\n        {errors.base && (\r\n          <div className=\"invalid-feedback text-center\">{errors.base}</div>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nModalLogin.propTypes = {\r\n  userName: PropTypes.string.isRequired,\r\n  password: PropTypes.string.isRequired,\r\n  submitting: PropTypes.bool.isRequired,\r\n  errors: PropTypes.object.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  handleBlur: PropTypes.func.isRequired,\r\n  onSubmit: PropTypes.func.isRequired\r\n};\r\n\r\nexport default AppContextHOC(ModalLoginHOC(ModalLogin));\r\n","import React from \"react\";\r\nimport { Modal, ModalBody } from \"reactstrap\";\r\nimport ModalLogin from \"./ModalLogin\";\r\nimport PropTypes from \"prop-types\";\r\nimport AppContextHOC from \"../../HOC/AppContextHOC\";\r\n\r\nconst Login = props => {\r\n  return (\r\n    <div>\r\n      <button\r\n        className=\"btn btn-success\"\r\n        type=\"button\"\r\n        onClick={props.toggleModal}\r\n      >\r\n        Log In\r\n      </button>\r\n      <Modal isOpen={props.showModal} toggle={props.toggleModal}>\r\n        <ModalBody>\r\n          <ModalLogin />\r\n        </ModalBody>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nLogin.propTypes = {\r\n  toggleModal: PropTypes.func.isRequired,\r\n  showModal: PropTypes.bool.isRequired\r\n};\r\n\r\nexport default AppContextHOC(Login);\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Dropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem\r\n} from \"reactstrap\";\r\nimport PropTypes from \"prop-types\";\r\nimport AppContextHOC from \"../../HOC/AppContextHOC\";\r\n\r\nclass UserMenu extends Component {\r\n  state = {\r\n    dropdownOpen: false\r\n  };\r\n\r\n  toggleDropdown = () => {\r\n    this.setState(prevState => ({\r\n      dropdownOpen: !prevState.dropdownOpen\r\n    }));\r\n  };\r\n  render() {\r\n    const { user, onLogOut } = this.props;\r\n    return (\r\n      <Dropdown isOpen={this.state.dropdownOpen} toggle={this.toggleDropdown}>\r\n        <DropdownToggle\r\n          tag=\"div\"\r\n          onClick={this.toggleDropdown}\r\n          data-toggle=\"dropdown\"\r\n          aria-expanded={this.state.dropdownOpen}\r\n        >\r\n          <img\r\n            width=\"40\"\r\n            className=\"rounded-circle\"\r\n            src={`https://secure.gravatar.com/avatar/${user.avatar.gravatar.hash}.jpg?s=64\"`}\r\n            alt=\"avatar\"\r\n            onClick={this.toggleDropdown}\r\n          />\r\n        </DropdownToggle>\r\n        <DropdownMenu right>\r\n          <DropdownItem onClick={onLogOut}>Выйти</DropdownItem>\r\n        </DropdownMenu>\r\n      </Dropdown>\r\n    );\r\n  }\r\n}\r\n\r\nUserMenu.propTypes = {\r\n  user: PropTypes.object.isRequired,\r\n  onLogOut: PropTypes.func.isRequired\r\n};\r\n\r\nexport default AppContextHOC(UserMenu);\r\n","import React, { Component } from \"react\";\r\nimport Login from \"./Login/Login\";\r\nimport UserMenu from \"./Login/UserMenu\";\r\n\r\nexport default class Header extends Component {\r\n  render() {\r\n    const { user } = this.props;\r\n    return (\r\n      <nav className=\"navbar navbar-dark bg-primary\">\r\n        <div className=\"container\">\r\n          <ul className=\"navbar-nav\">\r\n            <li className=\"nav-item active\">\r\n              <a href=\"/\" className=\"nav-link\">\r\n                Home\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          {user ? <UserMenu /> : <Login />}\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nconst FilterItem = ({ filterItems }) => {\r\n  return filterItems.map(item => (\r\n    <option key={item.id} value={item.value}>\r\n      {item.title}\r\n    </option>\r\n  ));\r\n};\r\n\r\nexport default FilterItem;\r\n","import React from \"react\";\r\nimport FilterItem from \"./FilterItem\";\r\n\r\nconst FilterSelect = ({ name, id, value, handleSelect, filterItems }) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={id}>Сортировать по:</label>\r\n      <select\r\n        name={name}\r\n        className=\"form-control\"\r\n        id={id}\r\n        value={value}\r\n        onChange={handleSelect}\r\n      >\r\n        <FilterItem filterItems={filterItems} />\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterSelect;\r\n","import React from \"react\";\r\nimport GenresHOC from \"./GenresHOC\";\r\nimport PropTypes from \"prop-types\";\r\nimport AppContextHOC from \"../HOC/AppContextHOC\";\r\n\r\nconst Genres = ({ addGenre, genres }) => {\r\n  return (\r\n    <div className=\"btn-group row\">\r\n      {genres.map(item => (\r\n        <label key={item.id} className=\"col-12\">\r\n          <input name={item.id} type=\"checkbox\" onChange={addGenre} />\r\n          {item.name}\r\n        </label>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nGenres.propTypes = {\r\n  addGenre: PropTypes.func.isRequired,\r\n  genres: PropTypes.array.isRequired\r\n};\r\n\r\nexport default AppContextHOC(GenresHOC(Genres));\r\n","import React from \"react\";\r\nimport { API_URL, API_KEY_3 } from \"../../api/api\";\r\n\r\nexport default Component =>\r\n  class GenresHOC extends React.Component {\r\n    state = {\r\n      genres: []\r\n    };\r\n\r\n    getGenres = () => {\r\n      const link = `${API_URL}/genre/movie/list?api_key=${API_KEY_3}&language=ru-Ru`;\r\n      fetch(link)\r\n        .then(response => {\r\n          return response.json();\r\n        })\r\n        .then(data => {\r\n          this.setState({\r\n            genres: data.genres\r\n          });\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n      this.getGenres();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n      if (\r\n        prevProps.filters.genre !== this.props.filters.genre &&\r\n        this.props.filters.genre === \"\"\r\n      ) {\r\n        this.setState(() => ({\r\n          ...this.state,\r\n          genres: []\r\n        }));\r\n        this.getGenres();\r\n      }\r\n    }\r\n\r\n    render() {\r\n      const { addGenre } = this.props;\r\n      return <Component genres={this.state.genres} addGenre={addGenre} />;\r\n    }\r\n  };\r\n","import React from \"react\";\r\n\r\nconst PageButtons = ({ page, total_pages, changePage }) => {\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"btn-group col-12\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary\"\r\n          disabled={page === 1}\r\n          onClick={() => {\r\n            changePage(page - 1);\r\n          }}\r\n        >\r\n          Back\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary\"\r\n          disabled={page >= total_pages}\r\n          onClick={() => {\r\n            changePage(page + 1);\r\n          }}\r\n        >\r\n          Forward\r\n        </button>\r\n      </div>\r\n      <p>\r\n        Current page: <strong>{page}</strong> from total pages:{\" \"}\r\n        <strong>{total_pages}</strong>\r\n      </p>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default PageButtons;\r\n","import React from \"react\";\r\nimport FilterSelect from \"./FilterSelect\";\r\nimport Genres from \"./Genres\";\r\nimport PageButtons from \"./PageButtons\";\r\n\r\nexport default class Filters extends React.Component {\r\n  state = {\r\n    filterItems: [\r\n      { id: 1, title: \"Популярные по убыванию\", value: \"popularity.desc\" },\r\n      { id: 2, title: \"Популярные по возростанию\", value: \"popularity.asc\" },\r\n      { id: 3, title: \"Рейтинг по убыванию\", value: \"vote_average.desc\" },\r\n      { id: 4, title: \"Рейтинг по возростанию\", value: \"vote_average.asc\" }\r\n    ],\r\n    filterYear: [\r\n      { id: 1, title: 2019, value: 2019 },\r\n      { id: 2, title: 2018, value: 2018 },\r\n      { id: 3, title: 2017, value: 2017 },\r\n      { id: 4, title: 2016, value: 2016 }\r\n    ]\r\n  };\r\n  render() {\r\n    const {\r\n      filters,\r\n      filters: { sort_by, year },\r\n      page,\r\n      total_pages,\r\n      handleSelect,\r\n      changePage,\r\n      resetFilters,\r\n      addGenre\r\n    } = this.props;\r\n    const { filterItems, filterYear } = this.state;\r\n    return (\r\n      <form className=\"mb-3\">\r\n        <FilterSelect\r\n          name=\"sort_by\"\r\n          id=\"sort_by\"\r\n          value={sort_by}\r\n          handleSelect={handleSelect}\r\n          filterItems={filterItems}\r\n        />\r\n        <FilterSelect\r\n          name=\"year\"\r\n          id=\"year\"\r\n          value={year}\r\n          handleSelect={handleSelect}\r\n          filterItems={filterYear}\r\n        />\r\n        <PageButtons\r\n          page={page}\r\n          total_pages={total_pages}\r\n          changePage={changePage}\r\n        />\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-secondary col-12\"\r\n          onClick={resetFilters}\r\n        >\r\n          Reset filters\r\n        </button>\r\n        <Genres filters={filters} addGenre={addGenre} />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport AppContextHOC from \"../HOC/AppContextHOC\";\r\nimport MovieItemHOC from \"./MovieItemHOC\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst MovieItem = props => {\r\n  const {\r\n    item,\r\n    favorite,\r\n    watchlist,\r\n    poster,\r\n    defaultPoster,\r\n    handleMark\r\n  } = props;\r\n  return (\r\n    <div className=\"card\" style={{ width: \"100%\" }}>\r\n      <img\r\n        className=\"card-img-top card-img--height\"\r\n        src={\r\n          poster ? `https://image.tmdb.org/t/p/w500${poster}` : defaultPoster\r\n        }\r\n        alt=\"poster\"\r\n      />\r\n      <div className=\"card-body\">\r\n        <Link to={`/movie/${item.id}/detail`} className=\"card-title\">\r\n          {item.title}\r\n        </Link>\r\n        <div className=\"card-text\">Рейтинг: {item.vote_average}</div>\r\n        <div className=\"card-favorite-watchlist\">\r\n          <i className=\"material-icons\" name=\"favorite\" onClick={handleMark}>\r\n            {favorite ? \"star\" : \"star_border\"}\r\n          </i>\r\n          <i className=\"material-icons\" name=\"watchlist\" onClick={handleMark}>\r\n            {watchlist ? \"bookmark\" : \"bookmark_border\"}\r\n          </i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nMovieItem.propTypes = {\r\n  item: PropTypes.object.isRequired,\r\n  favorite: PropTypes.bool.isRequired,\r\n  watchlist: PropTypes.bool.isRequired,\r\n  poster: PropTypes.string,\r\n  defaultPoster: PropTypes.string.isRequired,\r\n  handleMark: PropTypes.func.isRequired\r\n};\r\n\r\nexport default AppContextHOC(MovieItemHOC(MovieItem));\r\n","import React from \"react\";\r\nimport CallApi from \"../../api/api\";\r\n\r\nexport default Component =>\r\n  class MoviesItemHOC extends React.Component {\r\n    state = {\r\n      favorite: false,\r\n      watchlist: false,\r\n      movie_id: \"\"\r\n    };\r\n\r\n    handleMark = e => {\r\n      const name = e.target.getAttribute(\"name\");\r\n      if (this.props.user) {\r\n        CallApi.mark(`/account/${this.props.user.id}/${name}`, {\r\n          params: {\r\n            session_id: this.props.session_id\r\n          },\r\n          body: {\r\n            media_type: \"movie\",\r\n            media_id: this.props.item.id,\r\n            [name]: !this.state[name]\r\n          }\r\n        })\r\n          .then(() => {\r\n            if (name === \"favorite\") {\r\n              this.props.getMovieFavorite(\r\n                this.props.user.id,\r\n                this.props.session_id\r\n              );\r\n            } else if (name === \"watchlist\") {\r\n              this.props.getMovieWatchlist(\r\n                this.props.user.id,\r\n                this.props.session_id\r\n              );\r\n            }\r\n          })\r\n          .then(() => {\r\n            this.setState(prevState => ({\r\n              ...this.prevState,\r\n              [name]: !prevState[name]\r\n            }));\r\n            this.checkMark(\"watchlist\", this.props.item.id);\r\n            this.checkMark(\"favorite\", this.props.item.id);\r\n          });\r\n      } else if (!this.props.user) {\r\n        this.props.toggleModal();\r\n      }\r\n    };\r\n\r\n    checkMark = (targetName, movieId) => {\r\n      this.props[targetName].results.forEach(itemResults => {\r\n        if (movieId === itemResults.id) {\r\n          this.setState(prevState => ({\r\n            ...prevState,\r\n            [targetName]: true\r\n          }));\r\n        }\r\n      });\r\n    };\r\n\r\n    componentDidMount() {\r\n      if (this.props.user) {\r\n        this.checkMark(\"watchlist\", this.props.item.id);\r\n      }\r\n      if (this.props.user) {\r\n        this.checkMark(\"favorite\", this.props.item.id);\r\n      }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n      if (this.props.user) {\r\n        if (prevProps.watchlist !== this.props.watchlist) {\r\n          this.checkMark(\"watchlist\", this.props.item.id);\r\n        }\r\n        if (prevProps.favorite !== this.props.favorite) {\r\n          this.checkMark(\"favorite\", this.props.item.id);\r\n        }\r\n      }\r\n      if (\r\n        prevProps.filters !== this.props.filters ||\r\n        prevProps.page !== this.props.page\r\n      ) {\r\n        this.checkMark(\"watchlist\", this.props.item.id);\r\n        this.checkMark(\"favorite\", this.props.item.id);\r\n      }\r\n      if (prevProps.user && this.props.user === null) {\r\n        this.setState({\r\n          ...this.state,\r\n          favorite: false,\r\n          watchlist: false\r\n        });\r\n      }\r\n    }\r\n\r\n    render() {\r\n      const { item } = this.props;\r\n      const { favorite, watchlist } = this.state;\r\n      const poster = item.backdrop_path || item.poster_path;\r\n      const defaultPoster = \"./images/default-movie-poster.jpg\";\r\n\r\n      return (\r\n        <Component\r\n          item={item}\r\n          favorite={favorite}\r\n          watchlist={watchlist}\r\n          poster={poster}\r\n          defaultPoster={defaultPoster}\r\n          handleMark={this.handleMark}\r\n        />\r\n      );\r\n    }\r\n  };\r\n","import React from \"react\";\r\nimport MovieItem from \"./MovieItem\";\r\nimport PropTypes from \"prop-types\";\r\nimport MoviesHOC from \"./MoviesHOC\";\r\n\r\nconst MoviesList = ({\r\n  filters,\r\n  movies,\r\n  getMovieFavorite,\r\n  getMovieWatchlist\r\n}) => {\r\n  return (\r\n    <div className=\"row\">\r\n      {movies.map(movie => {\r\n        return (\r\n          <div key={movie.id} className=\"col-6 mb-4\">\r\n            <MovieItem\r\n              item={movie}\r\n              filters={filters}\r\n              getMovieFavorite={getMovieFavorite}\r\n              getMovieWatchlist={getMovieWatchlist}\r\n            />\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nMoviesList.defaulProps = {\r\n  movies: []\r\n};\r\n\r\nMoviesList.propTypes = {\r\n  movies: PropTypes.array.isRequired\r\n};\r\n\r\nexport default MoviesHOC(MoviesList);\r\n","import React from \"react\";\r\nimport CallApi from \"../../api/api\";\r\n\r\nexport default Component =>\r\n  class MoviesHOC extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        movies: []\r\n      };\r\n    }\r\n\r\n    changedSortBy = (filter, page = 1, currentTotalPages) => {\r\n      const { sort_by, year, genre = \"\" } = filter;\r\n      const queryStringParams = {\r\n        language: \"ru-RU\",\r\n        sort_by: sort_by,\r\n        page: page,\r\n        primary_release_year: year,\r\n        with_genres: genre\r\n      };\r\n      CallApi.get(\"/discover/movie\", { params: queryStringParams }).then(\r\n        data => {\r\n          currentTotalPages(data.total_pages);\r\n          this.setState({\r\n            movies: data.results\r\n          });\r\n        }\r\n      );\r\n    };\r\n\r\n    componentDidMount() {\r\n      this.changedSortBy(\r\n        this.props.filters,\r\n        this.props.page,\r\n        this.props.currentTotalPages\r\n      );\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n      if (\r\n        prevProps.filters.sort_by !== this.props.filters.sort_by ||\r\n        prevProps.filters.genre !== this.props.filters.genre ||\r\n        prevProps.page !== this.props.page ||\r\n        prevProps.filters.year !== this.props.filters.year\r\n      ) {\r\n        this.changedSortBy(\r\n          this.props.filters,\r\n          this.props.page,\r\n          this.props.currentTotalPages\r\n        );\r\n        if (this.props.user && this.props.session_id) {\r\n          this.props.getMovieWatchlist(\r\n            this.props.user.id,\r\n            this.props.session_id\r\n          );\r\n          this.props.getMovieFavorite(\r\n            this.props.user.id,\r\n            this.props.session_id\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    render() {\r\n      const { movies } = this.state;\r\n      const {\r\n        filters,\r\n        favorite,\r\n        watchlist,\r\n        getMovieWatchlist,\r\n        getMovieFavorite\r\n      } = this.props;\r\n      return (\r\n        <Component\r\n          filters={filters}\r\n          movies={movies}\r\n          favorite={favorite}\r\n          watchlist={watchlist}\r\n          getMovieWatchlist={getMovieWatchlist}\r\n          getMovieFavorite={getMovieFavorite}\r\n        />\r\n      );\r\n    }\r\n  };\r\n","import React, { Component } from \"react\";\r\nimport Filters from \"../../Filters/Filters\";\r\nimport MoviesList from \"../../Movies/MoviesList\";\r\nimport Cookies from \"universal-cookie\";\r\nimport AppContextHOC from \"../../HOC/AppContextHOC\";\r\n\r\nconst cookies = new Cookies();\r\n\r\nclass MoviesPage extends Component {\r\n  componentDidMount() {\r\n    const session_id = cookies.get(\"session_id\");\r\n    if (session_id) {\r\n      const user_id = cookies.get(\"user_id\");\r\n      if (user_id && session_id) {\r\n        this.props.getMovieFavorite(user_id, session_id);\r\n        this.props.getMovieWatchlist(user_id, session_id);\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      prevProps.user !== this.props.user &&\r\n      this.props.user &&\r\n      this.props.user !== null\r\n    ) {\r\n      this.props.getMovieFavorite(this.props.user.id, this.props.session_id);\r\n      this.props.getMovieWatchlist(this.props.user.id, this.props.session_id);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { filters, page, total_pages, favorite, watchlist } = this.props;\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-4\">\r\n            <div className=\"card\" style={{ width: \"100%\" }}>\r\n              <div className=\"card-body\">\r\n                <h3>Фильтры:</h3>\r\n                <Filters\r\n                  filters={filters}\r\n                  favorite={favorite}\r\n                  watchlist={watchlist}\r\n                  handleSelect={this.props.handleSelect}\r\n                  page={page}\r\n                  total_pages={total_pages}\r\n                  changePage={this.props.changePage}\r\n                  resetFilters={this.props.resetFilters}\r\n                  addGenre={this.props.addGenre}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-8\">\r\n            <MoviesList\r\n              filters={filters}\r\n              page={page}\r\n              total_pages={total_pages}\r\n              currentTotalPages={this.props.currentTotalPages}\r\n              favorite={favorite}\r\n              watchlist={watchlist}\r\n              getMovieFavorite={this.props.getMovieFavorite}\r\n              getMovieWatchlist={this.props.getMovieWatchlist}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppContextHOC(MoviesPage);\r\n","import React from \"react\";\r\n\r\nconst Actor = ({ actor }) => {\r\n  const image = actor.profile_path\r\n    ? `https://image.tmdb.org/t/p/w500${actor.profile_path}`\r\n    : `../../images/default-avatar.png`;\r\n  return (\r\n    <img className=\"col-2\" src={image} alt={actor.name} title={actor.name} />\r\n  );\r\n};\r\n\r\nexport default Actor;\r\n","import React from \"react\";\r\n\r\nimport \"./Spinner.css\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"lds-css ng-scope\">\r\n      <div className=\"lds-double-ring\">\r\n        <div></div>\r\n        <div></div>\r\n        <div>\r\n          <div></div>\r\n        </div>\r\n        <div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React, { Component } from \"react\";\r\nimport Actor from \"./Actor\";\r\nimport Snippet from \"../Spinner/Spinner\";\r\nimport CallApi from \"../../../../api/api\";\r\n\r\nexport default class Credits extends Component {\r\n  state = {\r\n    actors: [],\r\n    loaded: true\r\n  };\r\n\r\n  getActors = data => {\r\n    this.setState({\r\n      actors: data.cast, //[].concat(...data.cast)\r\n      loaded: false\r\n    });\r\n  };\r\n\r\n  updateActors = () => {\r\n    CallApi.get(`/movie/${this.props.match.params.id}/credits`, {\r\n      params: { language: \"ru_RU\" }\r\n    }).then(this.getActors);\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updateActors();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      prevProps.activeTab !== this.props.activeTab &&\r\n      this.props.activeTab === \"3\"\r\n    ) {\r\n      this.updateActors();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { actors, loaded } = this.state;\r\n    const snippet = loaded ? <Snippet /> : null;\r\n    const actorsList = !loaded ? <ListActors actors={actors} /> : null;\r\n    return (\r\n      <div>\r\n        {snippet}\r\n        {actorsList}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst ListActors = ({ actors }) => {\r\n  return (\r\n    <div>\r\n      {actors.map(item => {\r\n        return <Actor key={item.cast_id} actor={item} />;\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n","import React, { Component } from \"react\";\r\nimport CallApi from \"../../../../api/api\";\r\nimport Snippet from \"../Spinner/Spinner\";\r\n\r\nexport default class Video extends Component {\r\n  state = {\r\n    video: [],\r\n    loaded: true\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updateVideo();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      prevProps.activeTab !== this.props.activeTab &&\r\n      this.props.activeTab === \"2\"\r\n    ) {\r\n      this.updateVideo();\r\n    }\r\n  }\r\n\r\n  getVideo = data => {\r\n    this.setState(() => ({\r\n      video: data.results,\r\n      loaded: false\r\n    }));\r\n  };\r\n\r\n  updateVideo = () => {\r\n    CallApi.get(`/movie/${this.props.match.params.id}/videos`, {\r\n      params: { language: \"ru-RU\" }\r\n    }).then(data => {\r\n      this.getVideo(data);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { video, loaded } = this.state;\r\n    const snippet = loaded ? <Snippet /> : null;\r\n    const videoList = !loaded ? <ViewVideo data={video} /> : null;\r\n    return (\r\n      <div>\r\n        {snippet}\r\n        {videoList}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst ViewVideo = ({ data }) => {\r\n  return data.map(item => {\r\n    return (\r\n      <div key={item.id}>\r\n        <h6>{item.name}</h6>\r\n        <iframe\r\n          title={item.id}\r\n          width=\"720\"\r\n          height=\"480\"\r\n          src={`https://www.youtube.com/embed/${item.key}`}\r\n        ></iframe>\r\n      </div>\r\n    );\r\n  });\r\n};\r\n","import React from \"react\";\r\nimport { Col, Table } from \"reactstrap\";\r\n\r\nconst DetailTable = ({ details }) => {\r\n  return (\r\n    <Col>\r\n      <Col className=\"mt-4\">\r\n        <Table>\r\n          <tbody>\r\n            <tr>\r\n              <th scope=\"row\">Статус:</th>\r\n              <td>{details.status}</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">Дата выхода:</th>\r\n              <td>{details.release_date}</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">Продолжительность:</th>\r\n              <td>{details.runtime} мин</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">Язык оригинала:</th>\r\n              <td>{details.original_language}</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">Страна:</th>\r\n              <td>\r\n                {details.production_countries\r\n                  ? details.production_countries.map(item => {\r\n                      return item.name;\r\n                    })\r\n                  : null}\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">Бюджет:</th>\r\n              <td>{details.budget}$</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">Сборы:</th>\r\n              <td>{details.revenue}$</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">Компания:</th>\r\n              <td>\r\n                {details.production_companies\r\n                  ? details.production_companies.map(item => {\r\n                      return item.name + \", \";\r\n                    })\r\n                  : null}\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">Жанры:</th>\r\n              <td>\r\n                {details.genres\r\n                  ? details.genres.map(item => {\r\n                      return item.name + \" \";\r\n                    })\r\n                  : null}\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </Table>\r\n      </Col>\r\n    </Col>\r\n  );\r\n};\r\n\r\nexport default DetailTable;\r\n","import React, { Component } from \"react\";\r\nimport CallApi from \"../../../../api/api\";\r\nimport Snippet from \"../Spinner/Spinner\";\r\nimport DetailTable from \"./DetailTable\";\r\n\r\nexport default class Detail extends Component {\r\n  state = {\r\n    details: [],\r\n    loaded: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.updateDetails();\r\n  }\r\n\r\n  getDetails = data => {\r\n    this.setState(() => ({\r\n      details: data,\r\n      loaded: false\r\n    }));\r\n  };\r\n\r\n  updateDetails = () => {\r\n    CallApi.get(`/movie/${this.props.match.params.id}`, {\r\n      params: { language: \"ru-RU\" }\r\n    }).then(data => {\r\n      this.getDetails(data);\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { details, loaded } = this.state;\r\n    const snippet = loaded ? <Snippet /> : null;\r\n    const detailsList = !loaded ? <DetailTable details={details} /> : null;\r\n    return (\r\n      <div>\r\n        {snippet}\r\n        {detailsList}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nconst NoMatch = () => {\r\n  return (\r\n    <div>\r\n      <h1>Sorry. This page doesn't exist</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoMatch;\r\n","import React, { Component } from \"react\";\r\nimport { Switch, Route } from \"react-router\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Credits from \"./MovieCredits/MovieCredits\";\r\nimport Video from \"./MovieVideos/MovieVideos\";\r\nimport Detail from \"./MovieDetail/MovieDetail\";\r\nimport NoMatch from \"./NoMatch/NoMatch\";\r\nimport { Nav, NavItem } from \"reactstrap\";\r\n\r\nimport classnames from \"classnames\";\r\n\r\nexport default class MovieTabs extends Component {\r\n  state = {\r\n    activeTab: \"1\"\r\n  };\r\n\r\n  toggle = tab => {\r\n    if (this.state.activeTab !== tab) {\r\n      this.setState({\r\n        activeTab: tab\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { movie, activeTab } = this.props;\r\n    return (\r\n      <div>\r\n        <Nav tabs>\r\n          <NavItem>\r\n            <NavLink\r\n              to={`/movie/${movie.id}/detail`}\r\n              className={classnames(\"nav-link\", { active: activeTab === \"1\" })}\r\n              onClick={() => {\r\n                this.toggle(\"1\");\r\n              }}\r\n            >\r\n              Детали\r\n            </NavLink>\r\n          </NavItem>\r\n          <NavItem>\r\n            <NavLink\r\n              to={`/movie/${movie.id}/videos`}\r\n              className={classnames(\"nav-link\", { active: activeTab === \"2\" })}\r\n              onClick={() => {\r\n                this.toggle(\"2\");\r\n              }}\r\n            >\r\n              Видео\r\n            </NavLink>\r\n          </NavItem>\r\n          <NavItem>\r\n            <NavLink\r\n              to={`/movie/${movie.id}/credits`}\r\n              className={classnames(\"nav-link\", { active: activeTab === \"3\" })}\r\n              onClick={() => {\r\n                this.toggle(\"3\");\r\n              }}\r\n            >\r\n              Актеры\r\n            </NavLink>\r\n          </NavItem>\r\n        </Nav>\r\n        <Switch>\r\n          <Route path=\"/movie/:id/detail\" component={Detail} />\r\n          <Route path=\"/movie/:id/videos\" component={Video} />\r\n          <Route path=\"/movie/:id/credits\" component={Credits} />\r\n          <Route component={NoMatch} />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport CallApi from \"../../../api/api\";\r\nimport MovieTabs from \"./MovieTabs\";\r\nimport AppContext from \"../../HOC/AppContextHOC\";\r\n\r\nclass MoviePage extends Component {\r\n  state = {\r\n    movie: [],\r\n    favorite: false,\r\n    watchlist: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    CallApi.get(`/movie/${this.props.match.params.id}`, {\r\n      params: { language: \"ru_RU\" }\r\n    }).then(data => {\r\n      this.setState({\r\n        ...this.state,\r\n        movie: data\r\n      });\r\n    });\r\n    if (this.props.user) {\r\n      this.checkMark(\"watchlist\", this.props.match.params.id);\r\n      this.checkMark(\"favorite\", this.props.match.params.id);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      prevProps.user !== this.props.user &&\r\n      !this.props.user &&\r\n      this.props.user !== null\r\n    ) {\r\n      this.props.getMovieFavorite(this.props.user.id, this.props.session_id);\r\n      this.props.getMovieWatchlist(this.props.user.id, this.props.session_id);\r\n    }\r\n    if (this.props.user) {\r\n      if (prevProps.watchlist !== this.props.watchlist) {\r\n        this.checkMark(\"watchlist\", this.props.match.params.id);\r\n      }\r\n      if (prevProps.favorite !== this.props.favorite) {\r\n        this.checkMark(\"favorite\", this.props.match.params.id);\r\n      }\r\n    }\r\n    if (prevProps.user && this.props.user === null) {\r\n      this.setState({\r\n        ...this.state,\r\n        favorite: false,\r\n        watchlist: false\r\n      });\r\n    }\r\n  }\r\n\r\n  handleMark = e => {\r\n    const name = e.target.getAttribute(\"name\");\r\n    if (this.props.user) {\r\n      CallApi.mark(`/account/${this.props.user.id}/${name}`, {\r\n        params: {\r\n          session_id: this.props.session_id\r\n        },\r\n        body: {\r\n          media_type: \"movie\",\r\n          media_id: this.props.match.params.id,\r\n          [name]: !this.state[name]\r\n        }\r\n      })\r\n        .then(() => {\r\n          if (name === \"favorite\") {\r\n            this.props.getMovieFavorite(\r\n              this.props.user.id,\r\n              this.props.session_id\r\n            );\r\n          } else if (name === \"watchlist\") {\r\n            this.props.getMovieWatchlist(\r\n              this.props.user.id,\r\n              this.props.session_id\r\n            );\r\n          }\r\n        })\r\n        .then(() => {\r\n          this.setState(prevState => ({\r\n            // ...prevState,\r\n            [name]: !prevState[name]\r\n          }));\r\n        });\r\n    } else if (!this.props.user) {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  checkMark = (targetName, movieId) => {\r\n    this.props[targetName].results.forEach(itemResults => {\r\n      if (+movieId === itemResults.id) {\r\n        this.setState({\r\n          // ...this.state,\r\n          [targetName]: true\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      movie: {\r\n        title,\r\n        original_title,\r\n        backdrop_path,\r\n        poster_path,\r\n        overview,\r\n        vote_average,\r\n        release_date\r\n      },\r\n      favorite,\r\n      watchlist\r\n    } = this.state;\r\n    const poster = backdrop_path || poster_path;\r\n    const defaultPoster = \"../../images/default-movie-poster.jpg\";\r\n    return (\r\n      <div>\r\n        <div className=\"\">\r\n          <img\r\n            src={\r\n              poster\r\n                ? `https://image.tmdb.org/t/p/w500${poster}`\r\n                : defaultPoster\r\n            }\r\n            alt=\"poster\"\r\n          />\r\n          <div>\r\n            <h4>\r\n              {title} ({original_title}){\" \"}\r\n              <span>{release_date ? release_date.substring(0, 4) : \"\"}</span>\r\n            </h4>\r\n            <div>\r\n              <div>{vote_average}</div>\r\n              <div className=\"card-favorite-watchlist\">\r\n                <i\r\n                  className=\"material-icons\"\r\n                  name=\"favorite\"\r\n                  onClick={this.handleMark}\r\n                >\r\n                  {favorite ? \"star\" : \"star_border\"}\r\n                </i>\r\n                <i\r\n                  className=\"material-icons\"\r\n                  name=\"watchlist\"\r\n                  onClick={this.handleMark}\r\n                >\r\n                  {watchlist ? \"bookmark\" : \"bookmark_border\"}\r\n                </i>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <p>{overview}</p>\r\n              <p></p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <MovieTabs movie={this.state.movie} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppContext(MoviePage);\r\n","import React, { Component } from \"react\";\r\nimport Header from \"./Header/Header\";\r\nimport CallApi from \"../api/api\";\r\nimport Cookies from \"universal-cookie\";\r\nimport MoviesPage from \"./Pages/MoviesPage/MoviesPage\";\r\nimport MoviePage from \"./Pages/MoviePage/MoviePage\";\r\nimport { BrowserRouter, Route } from \"react-router-dom\";\r\n\r\nconst cookies = new Cookies();\r\n\r\nexport const AppContext = React.createContext();\r\n\r\nconst initialState = {\r\n  filters: {\r\n    sort_by: \"popularity.desc\",\r\n    year: 2019,\r\n    genre: \"\"\r\n  },\r\n  page: 1\r\n};\r\nexport default class App extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      ...initialState,\r\n      user: null,\r\n      session_id: null,\r\n      total_pages: \"\",\r\n      showModal: false,\r\n      watchlist: [],\r\n      favorite: []\r\n    };\r\n  }\r\n\r\n  updateUser = user => {\r\n    this.updateUserId(user.id);\r\n    this.setState({\r\n      ...this.state,\r\n      user\r\n    });\r\n  };\r\n\r\n  updateSessionId = session_id => {\r\n    cookies.set(\"session_id\", session_id, {\r\n      path: \"/\",\r\n      maxAge: 259200\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      session_id\r\n    });\r\n  };\r\n\r\n  updateUserId = user_id => {\r\n    cookies.set(\"user_id\", user_id, {\r\n      path: \"/\",\r\n      maxAge: 259200\r\n    });\r\n  };\r\n\r\n  onLogOut = () => {\r\n    CallApi.delete(\"/authentication/session\", {\r\n      params: { session_id: this.state.session_id }\r\n    });\r\n    cookies.remove(\"session_id\");\r\n    cookies.remove(\"user_id\");\r\n    this.setState({\r\n      ...this.state,\r\n      user: null,\r\n      session_id: null,\r\n      watchlist: [],\r\n      favorite: []\r\n    });\r\n  };\r\n\r\n  handleSelect = e => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    this.setState(prevState => ({\r\n      ...prevState,\r\n      filters: {\r\n        ...prevState.filters,\r\n        [name]: value\r\n      },\r\n      page: 1\r\n    }));\r\n  };\r\n\r\n  changePage = page => {\r\n    this.setState({\r\n      ...this.state,\r\n      page\r\n    });\r\n  };\r\n\r\n  currentTotalPages = e => {\r\n    this.setState({\r\n      ...this.state,\r\n      total_pages: e\r\n    });\r\n  };\r\n\r\n  resetFilters = e => {\r\n    this.setState({\r\n      ...initialState\r\n    });\r\n  };\r\n\r\n  toggleGenre = (array, item) => {\r\n    const index = array.findIndex(el => el === item);\r\n    const newArr = [...array.slice(0, index), ...array.slice(index + 1)];\r\n\r\n    return newArr;\r\n  };\r\n\r\n  addGenre = e => {\r\n    const id = e.target.name;\r\n    let arr = [...this.state.filters.genre];\r\n    if (this.state.filters.genre.includes(id)) {\r\n      arr = this.toggleGenre(arr, id);\r\n    } else {\r\n      arr = [...arr, id];\r\n    }\r\n    this.setState(() => ({\r\n      ...this.state,\r\n      page: 1,\r\n      filters: {\r\n        ...this.state.filters,\r\n        genre: arr\r\n      }\r\n    }));\r\n  };\r\n\r\n  getMovieWatchlist = (user_id, session_id) => {\r\n    CallApi.get(`/account/${user_id}/watchlist/movies`, {\r\n      params: { session_id: session_id, language: \"ru-RU\" }\r\n    }).then(watchlist => {\r\n      this.setState({\r\n        ...this.state,\r\n        watchlist: watchlist\r\n      });\r\n    });\r\n  };\r\n\r\n  getMovieFavorite = (user_id, session_id) => {\r\n    CallApi.get(`/account/${user_id}/favorite/movies`, {\r\n      params: { session_id: session_id, language: \"ru-RU\" }\r\n    }).then(favorite => {\r\n      this.setState({\r\n        ...this.state,\r\n        favorite: favorite\r\n      });\r\n    });\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(prevState => ({\r\n      ...this.state,\r\n      showModal: !prevState.showModal\r\n    }));\r\n  };\r\n\r\n  componentDidMount() {\r\n    const session_id = cookies.get(\"session_id\");\r\n    if (session_id) {\r\n      CallApi.get(\"/account\", { params: { session_id: session_id } }).then(\r\n        user => {\r\n          this.updateUser(user);\r\n        }\r\n      );\r\n      this.setState({\r\n        ...this.state,\r\n        session_id\r\n      });\r\n      const user_id = cookies.get(\"user_id\");\r\n      if (user_id && session_id) {\r\n        this.getMovieFavorite(user_id, session_id);\r\n        this.getMovieWatchlist(user_id, session_id);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      filters,\r\n      user,\r\n      page,\r\n      total_pages,\r\n      session_id,\r\n      showModal,\r\n      watchlist,\r\n      favorite\r\n    } = this.state;\r\n    return (\r\n      <BrowserRouter>\r\n        <AppContext.Provider\r\n          value={{\r\n            filters: filters,\r\n            user: user,\r\n            session_id: session_id,\r\n            showModal: showModal,\r\n            watchlist: watchlist,\r\n            favorite: favorite,\r\n            page: page,\r\n            total_pages: total_pages,\r\n            onLogOut: this.onLogOut,\r\n            updateUser: this.updateUser,\r\n            updateSessionId: this.updateSessionId,\r\n            getMovieFavorite: this.getMovieFavorite,\r\n            getMovieWatchlist: this.getMovieWatchlist,\r\n            toggleModal: this.toggleModal,\r\n            handleSelect: this.handleSelect,\r\n            changePage: this.changePage,\r\n            resetFilters: this.resetFilters,\r\n            addGenre: this.addGenre,\r\n            currentTotalPages: this.currentTotalPages\r\n          }}\r\n        >\r\n          <div className=\"container\">\r\n            <Header user={user} />\r\n            <Route path=\"/\" exact component={MoviesPage} />\r\n            <Route path=\"/movie/:id\" component={MoviePage} />\r\n          </div>\r\n        </AppContext.Provider>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./stylesheets/index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}